{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[name,setName]=useState(\"\");const[Date,setDate]=useState(\"\");const[description,setDescription]=useState(\"\");const[transactions,setTransactions]=useState([]);useEffect(()=>{getTransactions().then(transactions=>{setTransactions(transactions);});},[]);async function getTransactions(){const res=await fetch(\"http://localhost:5000/api/transactions\");return await res.json();}const addNewTransaction=async e=>{e.preventDefault();try{const price=name.split(' ')[0];const res=await fetch(\"http://localhost:5000/api/transaction\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({price,name:name.substring(price.length+1),Date,description})});const data=await res.json();// Update transactions state with the new transaction data\nsetTransactions([...transactions,data]);// Clear input fields after successful submission\nsetName(\"\");setDate(\"\");setDescription(\"\");console.log(data);}catch(error){console.error(\"Error adding transaction:\",error.message);}};let balance=0;for(const transaction of transactions){balance+=transaction.price;}return/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:addNewTransaction,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"appHeading\",children:\"MoneyTracker\"}),/*#__PURE__*/_jsxs(\"h2\",{className:\"balance \".concat(balance<0?\"red\":\"green\"),children:[balance,\" \\u20B9\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"basicInfo\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"-20000 samsung tv\",value:name,onChange:ev=>setName(ev.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",placeholder:\"time\",value:Date,onChange:ev=>setDate(ev.target.value)})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"description\",value:description,onChange:ev=>setDescription(ev.target.value)})}),/*#__PURE__*/_jsx(\"button\",{children:\"Add new transaction\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total transactions: \",transactions.length]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"transactions\",children:transactions.map(transaction=>/*#__PURE__*/_jsxs(\"div\",{className:\"transaction\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"transactionName\",children:transaction.name}),/*#__PURE__*/_jsx(\"div\",{className:\"transactionDescription\",children:transaction.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"transactionPrice \".concat(transaction.price<0?\"red\":\"green\"),children:\"\".concat(transaction.price,\" \\u20B9\")}),/*#__PURE__*/_jsx(\"div\",{className:\"transactionDate\",children:transaction.Date})]})]},transaction._id))})]})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","App","name","setName","Date","setDate","description","setDescription","transactions","setTransactions","getTransactions","then","res","fetch","json","addNewTransaction","e","preventDefault","price","split","method","headers","body","JSON","stringify","substring","length","data","console","log","error","message","balance","transaction","children","className","onSubmit","concat","type","placeholder","value","onChange","ev","target","map","_id"],"sources":["C:/Users/kg209/OneDrive/Desktop/MoneyTracker/money_tracker/client/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\n\nfunction App() {\n  const [name, setName] = useState(\"\");\n  const [Date, setDate] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [transactions, setTransactions] = useState([]);\n\n  useEffect(() => {\n    getTransactions().then(transactions => {\n      setTransactions(transactions);\n    });\n  }, []);\n\n  async function getTransactions() {\n    const res = await fetch(\"http://localhost:5000/api/transactions\");\n    return await res.json();\n  }\n\n  const addNewTransaction = async (e) => {\n    e.preventDefault();\n    try {\n      const price = name.split(' ')[0];\n      const res = await fetch(\"http://localhost:5000/api/transaction\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ price, name: name.substring(price.length + 1), Date, description }),\n      });\n\n      const data = await res.json();\n\n      // Update transactions state with the new transaction data\n      setTransactions([...transactions, data]);\n\n      // Clear input fields after successful submission\n      setName(\"\");\n      setDate(\"\");\n      setDescription(\"\");\n\n      console.log(data);\n    } catch (error) {\n      console.error(\"Error adding transaction:\", error.message);\n    }\n  };\n\n  let balance = 0;\n  for (const transaction of transactions) {\n    balance += transaction.price;\n  }\n\n  return (\n    <main>\n      <div className=\"container\">\n        <form onSubmit={addNewTransaction}>\n          <h1 className=\"appHeading\">MoneyTracker</h1>\n          <h2 className={`balance ${balance < 0 ? \"red\" : \"green\"}`}>{balance} ₹</h2>\n          <div className=\"basicInfo\">\n            <input\n              type=\"text\"\n              placeholder=\"-20000 samsung tv\"\n              value={name}\n              onChange={(ev) => setName(ev.target.value)}\n            />\n            <input\n              type=\"datetime-local\"\n              placeholder=\"time\"\n              value={Date}\n              onChange={(ev) => setDate(ev.target.value)}\n            />\n          </div>\n          <div>\n            <input\n              type=\"text\"\n              placeholder=\"description\"\n              value={description}\n              onChange={(ev) => setDescription(ev.target.value)}\n            />\n          </div>\n          <button>Add new transaction</button>\n          <p>Total transactions: {transactions.length}</p>\n        </form>\n        <div className=\"transactions\">\n          {transactions.map(transaction => (\n            <div className=\"transaction\" key={transaction._id}>\n              <div className=\"left\">\n                <div className=\"transactionName\">{transaction.name}</div>\n                <div className=\"transactionDescription\">{transaction.description}</div>\n              </div>\n              <div className=\"right\">\n                <div className={`transactionPrice ${transaction.price < 0 ? \"red\" : \"green\"}`}>{`${transaction.price} ₹`}</div>\n                <div className=\"transactionDate\">{transaction.Date}</div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </main>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}